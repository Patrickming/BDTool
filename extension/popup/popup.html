<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KOL BD Tool</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- 标题栏 -->
    <div class="header">
      <h1>🎯 KOL BD Tool</h1>
      <p class="subtitle">Twitter KOL 捕获助手</p>
    </div>

    <!-- 认证状态 -->
    <div id="authSection">
      <!-- 未认证状态 -->
      <div id="unauthenticated" style="display: none;">
        <div class="alert alert-warning">
          <p>⚠️ 请先登录系统</p>
        </div>
        <div class="form-group">
          <label for="tokenInput">认证 Token:</label>
          <input type="text" id="tokenInput" placeholder="粘贴您的 Token">
          <small>从系统设置中复制 Token</small>
        </div>
        <button id="saveTokenBtn" class="btn btn-primary">保存 Token</button>
      </div>

      <!-- 已认证状态 -->
      <div id="authenticated" style="display: none;">
        <div class="alert alert-success">
          <p>✅ 已登录</p>
        </div>

        <!-- 当前页面检测 -->
        <div id="pageDetection" class="section">
          <h3>当前页面</h3>
          <div id="pageInfo">
            <p id="pageType" class="page-type">检测中...</p>
          </div>
        </div>

        <!-- 快速操作 -->
        <div id="quickActions" class="section">
          <h3>快速操作</h3>
          <button id="captureCurrentBtn" class="btn btn-primary" disabled>
            📸 捕获当前用户
          </button>
          <button id="batchCaptureBtn" class="btn btn-secondary" disabled>
            📦 批量捕获
          </button>
        </div>

        <!-- 统计信息 -->
        <div id="stats" class="section">
          <h3>今日统计</h3>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-value" id="todayCaptured">0</span>
              <span class="stat-label">已捕获</span>
            </div>
            <div class="stat-item">
              <span class="stat-value" id="totalKOLs">0</span>
              <span class="stat-label">总 KOL</span>
            </div>
          </div>
        </div>

        <!-- 设置 -->
        <div class="section">
          <button id="logoutBtn" class="btn btn-danger btn-small">
            退出登录
          </button>
        </div>
      </div>
    </div>

    <!-- 加载状态 -->
    <div id="loading" style="display: none;">
      <div class="loader"></div>
      <p>处理中...</p>
    </div>

    <!-- 消息提示 -->
    <div id="message" class="message" style="display: none;"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
